<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Producto</title>
    <style>
      /* Estilos CSS para la disposición de los elementos */
      .product-container {
        display: flex;
        align-items: center;
        padding: 20px;
        border: 1px solid #ddd;
      }
      .product-image {
        max-width: 200px;
        margin-right: 20px;
      }
      .product-details {
        flex-grow: 1;
      }
      .empty-cart-message {
        color: red;
      }
      /* Estilos para el botón */
      button {
        background-color: #007bff;
        color: #fff;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
      }
      button:hover {
        background-color: #0056b3;
      }
      /* Estilos para el carrito */
      #lista-carrito {
        list-style-type: none;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="left-images">
        <!-- Aquí coloca tus imágenes de la izquierda -->
        <img src="img/index/Logo.png" alt="Logo" />
        <img src="img/index/nombre empresa.png" alt="Nombre de la empresa" />
      </div>
      <div class="right-image">
        <!-- Aquí coloca la imagen del carrito de compras -->

        <a href="Carrito.html">
          <img src="img/carrito.png" alt="Carrito de compras"
        /></a>
      </div>
    </header>

    <div class="search-container">
      <input
        type="text"
        id="search-input"
        class="search-input"
        placeholder="BUSCAR PRODUCTOS"
      />
      <button class="search-button" onclick="buscarProducto()">Buscar</button>
    </div>

    <div id="resultados-busqueda">
      <!-- Aquí se mostrarán los resultados de la búsqueda -->
    </div>

    <div class="navbar">
      <ul>
        <li><a href="index.html">INICIO</a></li>
        <li><a href="TECLADOS.html">TECLADOS</a></li>
        <li><a href="MOUSES.html">MOUSES</a></li>
        <li><a href="AURICULARES-CASCOS.html">AURICULARES/CASCOS</a></li>
        <li><a href="TORRES.html">TORRES</a></li>
        <li><a href="COMPONENTES PC.html">COMPONENTES PC</a></li>
        <li><a href="PORTATILES.html">PORTATILES</a></li>
      </ul>
      <div class="toggle-btn" onclick="toggleMenu()">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
    </div>
    <div class="product-container">
      <img src="img/index/ASUS.png" alt="Producto" class="product-image" />
      <div class="product-details">
        <h2>Nombre del Producto</h2>
        <p>Precio: $100.00</p>
        <button onclick="agregarAlCarrito()">Agregar al Carrito</button>

        <!-- Enlace para redirigir al carrito -->
        <a href="Carrito.html" onclick="mostrarCarrito()">Ver Carrito</a>
      </div>
    </div>

    <!-- Lista para mostrar los productos en el carrito -->
    <ul id="lista-carrito"></ul>

    <footer class="footer">
      <nav>
        <ul>
          <li>
            <a href="Terminos y Condiciones.html">Términos y condiciones</a>
          </li>
          <li>
            <a href="Política de privacidad.html">Política de privacidad</a>
          </li>
          <li><a href="Política de envíos.html">Política de envíos</a></li>
        </ul>
      </nav>
    </footer>

    <script>
      // Función para agregar un producto al carrito
      function agregarAlCarrito(nombre, precio) {
        // Crear un objeto de producto con el nombre y precio proporcionados
        const producto = {
          nombre: nombre,
          precio: precio,
        };

        // Obtener el carrito de localStorage o inicializarlo si está vacío
        let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

        // Verificar si el producto ya está en el carrito
        const indiceProducto = carrito.findIndex((p) => p.nombre === nombre);
        if (indiceProducto === -1) {
          // Si el producto no está en el carrito, agregarlo
          carrito.push(producto);
        } else {
          // Si el producto ya está, opcionalmente puedes incrementar la cantidad o actualizar el precio
          // carrito[indiceProducto].cantidad++;
        }

        // Guardar el carrito actualizado en localStorage
        localStorage.setItem("carrito", JSON.stringify(carrito));

        // Opcional: Mostrar una confirmación al usuario
        alert("Producto agregado al carrito");
      }

      // Función para mostrar los productos del carrito
      function mostrarCarrito() {
        // Obtener los productos del carrito de localStorage
        const carrito = JSON.parse(localStorage.getItem("carrito")) || [];

        // Obtener el elemento donde se mostrará el carrito
        const listaCarrito = document.getElementById("lista-carrito");
        listaCarrito.innerHTML = ""; // Limpiar el contenido previo

        // Mostrar cada producto en el carrito
        carrito.forEach((producto) => {
          const itemCarrito = document.createElement("li");
          itemCarrito.textContent = `${producto.nombre} - $${producto.precio}`;
          listaCarrito.appendChild(itemCarrito);
        });
      }

      // Ejemplo de uso:
      // agregarAlCarrito('Laptop ASUS', 999);
      // mostrarCarrito();
    </script>
  </body>
</html>
